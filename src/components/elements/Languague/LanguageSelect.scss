:root {
	--csel-radius: 10px;
	--csel-pad-y: 0.45rem;
	--csel-pad-x: 0.75rem;
	--csel-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);

	--csel-bg: var(--bg);
	--csel-fg: var(--fg);
	--csel-border: var(--border);
	--csel-bg-hover: color-mix(in srgb, var(--border) 30%, transparent);
	--csel-outline: color-mix(in srgb, var(--border) 40%, transparent);
}

.cselect {
	position: relative;
	display: inline-block;
	color: var(--csel-fg);

	&:focus {
		outline: none;
	}
	&.is-open .cselect__chevron {
		transform: rotate(180deg);
	}
}

.cselect__button {
	display: inline-flex;
	align-items: center;
	gap: 0.5rem;
	background: var(--csel-bg);
	color: var(--csel-fg);
	border: 1px solid var(--csel-border);
	border-radius: var(--csel-radius);
	padding: var(--csel-pad-y) calc(var(--csel-pad-x) + 1.25rem) var(--csel-pad-y)
		calc(var(--csel-pad-x) + 1.25rem);
	cursor: pointer;
	transition: background 0.2s ease;
	min-height: 36px;
	box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);

	&:hover {
		background: var(--csel-bg-hover);
	}
	&:focus-visible {
		outline: 3px solid var(--csel-outline);
		outline-offset: 2px;
	}
}

.cselect__icon,
.cselect__chevron {
	width: 16px;
	height: 16px;
	background: currentColor;
	mask: none;
	-webkit-mask: none;
}

.cselect__icon {
	margin-left: -1rem;
	-webkit-mask: url('data:image/svg+xml;utf8,<svg fill="none" xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width="2" viewBox="0 0 24 24"><path d="M12 21c4.97 0 9-4.03 9-9S16.97 3 12 3 3 7.03 3 12s4.03 9 9 9Zm0 0c2.5 0 4.5-4.03 4.5-9S14.5 3 12 3 7.5 7.03 7.5 12 9.5 21 12 21Zm-8-9h16"/></svg>')
		center/contain no-repeat;
	mask: url('data:image/svg+xml;utf8,<svg fill="none" xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width="2" viewBox="0 0 24 24"><path d="M12 21c4.97 0 9-4.03 9-9S16.97 3 12 3 3 7.03 3 12s4.03 9 9 9Zm0 0c2.5 0 4.5-4.03 4.5-9S14.5 3 12 3 7.5 7.03 7.5 12 9.5 21 12 21Zm-8-9h16"/></svg>')
		center/contain no-repeat;
}

.cselect__value {
	font-weight: 600;
}

.cselect__chevron {
	margin-left: 0.25rem;
	transform-origin: center;
	transition: transform 0.2s ease;
	-webkit-mask: url('data:image/svg+xml;utf8,<svg fill="none" xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width="2" viewBox="0 0 24 24"><path d="m6 9 6 6 6-6"/></svg>')
		center/contain no-repeat;
	mask: url('data:image/svg+xml;utf8,<svg fill="none" xmlns="http://www.w3.org/2000/svg" stroke="black" stroke-width="2" viewBox="0 0 24 24"><path d="m6 9 6 6 6-6"/></svg>')
		center/contain no-repeat;
}

.cselect__list {
	position: absolute;
	top: 100%;
	left: 0;
	right: 0;
	z-index: 20;
	background: var(--csel-bg);
	color: var(--csel-fg);
	border: 1px solid var(--csel-border);
	border-radius: 12px;
	box-shadow: var(--csel-shadow);
	padding: 0.35rem;
	list-style: none;
	margin: 0;
}

.cselect__option {
	list-style: none;
	padding: 0.5rem 0.6rem;
	border-radius: 8px;
	cursor: pointer;
	transition: background 0.15s ease;

	& + .cselect__option {
		margin-top: 4px;
	}

	&:hover {
		background: var(--csel-bg-hover);
	}
	&.is-active {
		background: color-mix(in srgb, var(--csel-bg) 85%, gray);
		font-weight: 600;
	}
}

@media (prefers-reduced-motion: reduce) {
	.cselect__button,
	.cselect__chevron,
	.cselect__option {
		transition: none;
	}
}
